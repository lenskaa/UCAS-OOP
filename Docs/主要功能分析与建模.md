# 主要功能分析与建模

## 1. 软件功能描述

本次大作业将设计实现一个简单的笔记软件，主要包含以下功能：
* 基础文字排版：支持文字编辑，调整字号，调整格式选项（粗体，斜体等），自动缩进
* 保存：支持笔记文件本地保存
* 读取：支持读取保存在本地的笔记文件
* 图片视频插入：向文档中插入本地的图片与视频文件
* Markdown支持：支持Markdown语法的转换

***

## 2. 需求分析

下面我们针对以上拟实现的每一个功能进行需求分析，从而从中抽象出类和对象：

### 1. 文档编辑功能 

所有的文档编辑记录都将暂存在一个数据结构中，便于实现撤销重做功能。

```
【用例名称】
    文档编辑
【场景】
    Who: 使用者，数据存储器，修改存储器；
    Where: 内存；
    When: 编辑文档时。
【用例描述】
    1. 使用者修改笔记中的内容，存储在数据存储器中；
        1.1 使用者输入的字号不在规定范围中，需要自动调整到最近的规定范围内的值
    2. 修改存储器记录使用者做出的修改；
    3. 使用者撤销编辑时，回退修改存储器最新一步的修改，加载到数据存储器中；
【用例价值】
    使用者可以将自己想修改的内容加入文档中。
【约束和限制】
    1. 输入内容应该在Unicode编码范围内。
```

### 2. 文档保存功能 

保存时将数据存储器中的数据转换为存储格式，存储在指定位置。

```
【用例名称】
    文档保存
【场景】
    Who: 使用者，数据存储器，格式转换器，文档存储器；
    Where: 内存；
    When: 保存文档时。
【用例描述】
    1. 使用者点击保存按钮，并输入保存目录；
    2. 格式转换器将数据存储器中的数据转换为存储所需要的格式；
    3. 文档存储器将转换得到的数据存储到本地；
        3.1 使用者输入保存的目录不存在，需要报出错误提示
【用例价值】
    使用者可以将自己的文档保存在本地。
【约束和限制】
    1. 保存格式应该合理。
```

### 3. 文档读取功能 

将本地保存的文档读取到软件中，供使用者编辑。

```
【用例名称】
    文档读取
【场景】
    Who: 使用者，数据存储器，格式转换器，文档读取器；
    Where: 内存；
    When: 读取文档时。
【用例描述】
    1. 使用者点击读取按钮，并输入读取文件目录；
    2. 文档读取器将本地的文档读取到软件中；
    3. 格式转换器将文件中的数据转换为软件需要的格式，存储在数据存储器中；
        3.1 使用者输入的文件目录不存在，需要报出错误提示
        3.2 读取的文件格式无法识别，需要报出错误提示
【用例价值】
    使用者可以读取本地保存的文件。
【约束和限制】
    1. 读取文件大小不应过大。
```

### 4. 图片视频插入功能 

将本地的图片或视频插入文档指定位置。

```
【用例名称】
    文档读取
【场景】
    Who: 使用者，数据存储器，图片视频读取器；
    Where: 内存；
    When: 插入图片或视频时。
【用例描述】
    1. 使用者点击插入按钮，并输入读取文件目录；
    2. 图片视频读取器将本地的图片或视频读取到软件中，并存储在数据存储器中；
        2.1 使用者输入的文件目录不存在，需要报出错误提示
        2.2 读取的文件格式无法识别，需要报出错误提示
【用例价值】
    使用者可以向文档插入本地的图片或视频。
【约束和限制】
    1. 读取文件大小不应过大。
```

### 5. Markdown转换功能 

将使用Markdown语法编辑的文件转换为对应的格式。

```
【用例名称】
    Markdown转换
【场景】
    Who: 使用者，数据存储器，Markdown转换器；
    Where: 内存；
    When: 转换Markdown文档时。
【用例描述】
    1. 使用者点击MD转换按钮；
    2. Markdown转换器读取数据存储器的内容，将其转换为对应排版；
    3. 使转换后的文档覆盖数据存储器中原有的Markdown文档；
【用例价值】
    使用者可以将Markdown语法文档转换为对应排版的文档。
【约束和限制】
    1. 文档内容应该遵循Markdown语法。
```